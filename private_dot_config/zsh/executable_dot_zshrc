source ~/.config/zsh/lib/completion.zsh 
source ~/.config/zsh/lib/keybinds.zsh
source ~/.config/zsh/lib/spectrum.zsh
source ~/.config/zsh/lib/zprofile.zsh
source  ~/.config/zsh/lib/fzf/fzf-completion.zsh
source  ~/.config/zsh/lib/fzf/fzf-key-bindings.zsh

winboot() {
  WINDOWS_TITLE=`grep -i "^menuentry 'Windows" /boot/grub/grub.cfg|head -n 1|cut -d"'" -f2`
  sudo grub-reboot "$WINDOWS_TITLE"
  sudo reboot
}
waitforjob() {
  until ! jobs %${1:-1} >/dev/null 2>&1; do
    sleep 2
  done
}
notif() {
  [ -f ~/.config/token/telegram.token ] && source ~/.config/token/telegram.token
  [ -f ~/Documents/gdrive/token/telegram.token ] && source ~/Documents/gdrive/token/telegram.token
  data='{"chat_id": '$TgId', "text": "'"${@:-$(read a; echo $a)}"'"}'
  curl -s -X POST -H 'Content-Type: application/json' -d "$data" "https://api.telegram.org/bot$TgToken/sendMessage"
}
bak() { sudo -E cp -r "${1}" "${1}.bak" }
bakm() { sudo -E mv "${1}" "${1}.bak" }

([[ -f ~/.gtkrc-2.0 ]] && /bin/rm -v ~/.gtkrc-2.0) &!
hash -d u=/run/media/mirsella
export MAIL='mirsella@protonmail.com'
export EDITOR='nvim'
export DIFFPROG='nvim -d'
export BROWSER='xdg-open'
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8
export LC_MEASUREMENT=fr_FR.UTF-8
export LC_MONETARY=fr_FR.UTF-8
export LC_NUMERIC=fr_FR.UTF-8
export LC_TIME=fr_FR.UTF-8
export PATH="$PATH:/home/mirsella/.local/bin:/home/mirsella/.local/share/gem/bin:/home/mirsella/.local/share/npm/bin"
export WORDCHARS=${WORDCHARS/\*\?\_\-\.\[\]\~\=\/\&\;\!\#\$\%\^\(\)\{\}\<\>} 
alias -s html='firefox'
alias -s pdf='firefox'
alias -s odt='libreoffice'
alias psaux='ps aux | rg '
alias systemctlerrors='journalctl -p 3 -xb'
alias NU='2> /dev/null ' #Silences stderr
alias NUL='> /dev/null 2>&1 ' #Silences both stdout and stderr
alias yt='yt-dlp --cookies-from-browser firefox -x --recode-video mp3 --embed-metadata --embed-thumbnail --fixup warn --sponsorblock-remove all '
alias mkdir='mkdir -p '
alias cp='cp -r '
# alias ls='ls -AhX --group-directories-first --color=auto '
# alias ll='ls -AhXl --group-directories-first --color=auto '
alias ls='lsd -Ah '
alias ll='lsd -Ahl '
alias bat='bat -pp --color=always --theme="Monokai Extended Origin" '
alias q='exit '
alias dut='du -cksh '
alias rg='rg --hidden -S '
alias gch='git checkout '
alias tree='ls --tree '
alias gb='git branch '
alias ga='git add -A '
alias gt='git stash '
alias gc='git commit '
alias gp='git push '
alias gcd='git commit -m "gcd $(date)"'
gm() { git commit -m "$*" }
gamp() { git add -A; git commit -m "${*:-gamp}"; git push }
alias fd='fd -HL -E run -E media -E sys -E proc '
alias fda='fd -I '
alias trapp='trap "exit" SIGINT '
alias watch='watch '
alias update='paru -Syu --noconfirm; notif "paru on $(hostname) finished $?"'
alias chownm='s chown -R $USER: '
alias S='sudo systemctl '
alias s='sudo -E '
alias trash-empty='s trash-empty '
alias trash-list='s trash-list '
alias trash-restore='s trash-restore '
alias uefireboot='systemctl reboot --firmware-setup'
alias yarn="yarn --use-yarnrc $XDG_CONFIG_HOME/yarn/config "
alias arduino-cli='arduino-cli --config-file $XDG_CONFIG_HOME/arduino15/arduino-cli.yaml '
alias gclipp='git clone $(clipp)'
alias sshphone='ssh $(ip r | rg default | cut -d" " -f3) -p 2222'
alias vpn='s protonvpn c -f'
alias v='nvim -p '
alias parus='paru -S --noconfirm --needed '
alias rga='rga --no-ignore --hidden -S '
alias adbconnectipr='adb connect $(ip r | rg default | head -n 1 | cut -d" " -f3) '
alias kdesend='kdeconnect-cli -d $(kdeconnect-cli --list-devices | rg  "phone" | rg -o "[a-z0-9]{16}") --share '
alias dolphinroot='pkexec env DISPLAY=$DISPLAY XAUTHORITY=$XAUTHORITY KDE_SESSION_VERSION=5 KDE_FULL_SESSION=true dolphin '
alias ccw='cc -Wall -Wextra -Werror -g3 '
alias antibodybundle='antibody bundle < ~/.config/zsh/lib/$(hostname)/plugins.txt > ~/.config/zsh/lib/$(hostname)/plugins.zsh && source ~/.config/zsh/.zshrc'
alias	chezmoi-cd='pushd $(chezmoi source-path)'
chezmoi-gamp() { chezmoi-cd && git add -A && git commit -m "${@:-chezmoi-gamp}" && git push }
alias colemak='setxkbmap us -variant colemak_dh_iso'
alias qwerty='setxkbmap us'

source ~/.config/zsh/lib/$(hostname)/hostname.zsh
