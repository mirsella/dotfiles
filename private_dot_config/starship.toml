"$schema" = 'https://starship.rs/config-schema.json'

command_timeout = 500
add_newline = false

[username]
disabled = true

# [directory]
# style = "bg:#DA627D"
# format = "[ $path ]($style)"
# truncation_length = 3
# truncation_symbol = "…/"

[directory.substitutions]
"Documents" = "󰈙 "
"Downloads" = " "
"Music" = " "
"Pictures" = " "

[time]
disabled = true

[cmd_duration]
show_milliseconds = true
min_time = 0

[status]
disabled = false
pipestatus = true
symbol = " "
map_symbol = true

[git_metrics]
disabled = false

[os]
disabled = true
symbols.Arch = " "

# [git_commit]
# only_detached = false
#
# [custom.jj]
# command = '''
# jj log -r@ -n1 --ignore-working-copy --no-graph --color always  -T '
#   separate(" ",
#     bookmarks.map(|x| if(
#         x.name().substr(0, 10).starts_with(x.name()),
#         x.name().substr(0, 10),
#         x.name().substr(0, 9) ++ "…")
#       ).join(" "),
#     tags.map(|x| if(
#         x.name().substr(0, 10).starts_with(x.name()),
#         x.name().substr(0, 10),
#         x.name().substr(0, 9) ++ "…")
#       ).join(" "),
#     surround("\"","\"",
#       if(
#          description.first_line().substr(0, 24).starts_with(description.first_line()),
#          description.first_line().substr(0, 24),
#          description.first_line().substr(0, 23) ++ "…"
#       )
#     ),
#     if(conflict, "conflict"),
#     if(divergent, "divergent"),
#     if(hidden, "hidden"),
#   )
# '
# '''
# when = "jj root"
# symbol = "jj"
#
# [custom.jjstate]
# when = "jj root"
# command = '''
# jj log -r@ -n1 --no-graph -T "" --stat | tail -n1 | sd "(\d+) files? changed, (\d+) insertions?\(\+\), (\d+) deletions?\(-\)" ' ${1}m ${2}+ ${3}-' | sd " 0." ""
# '''
